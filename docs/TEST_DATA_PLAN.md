# 📊 통계분석 탭 테스트 데이터 생성 플랜

## 🎯 목표
실제 DB 기종 및 시간대 설정을 기반으로 월 평균 50건의 현실적인 테스트 데이터 생성하여 통계분석 탭들이 잘 노출되도록 함

## 📊 데이터 범위
- **기간**: 2023년 1월 ~ 2025년 6월 (30개월)
- **총 예약 건수**: 1,500건 (월평균 50건)
- **고객 수**: 300명 내외
- **테스트 목적**: 예약 통계, 매출 분석, 고객 분석 탭 검증

## 🎮 실제 기종 설정 (4개)

### 1. 사운드 볼텍스 (KONAMI)
- **크레딧 옵션**: Fixed 크레딧 (84크레딧/33,000원)
- **예약 비중**: 30% (450건)
- **특징**: 안정적인 인기 기종

### 2. CHUNITHM (SEGA)
- **크레딧 옵션**: 
  - Freeplay: 30,000원/40,000원
  - Unlimited: 30,000원/40,000원
- **예약 비중**: 25% (375건)
- **특징**: 다양한 크레딧 옵션

### 3. BEATMANIA IIDX (KONAMI)
- **크레딧 옵션**: Fixed 크레딧 (90크레딧/45,000원)
- **예약 비중**: 20% (300건)
- **특징**: 고가격대, 마니아층 선호

### 4. 마이마이 DX (SEGA)
- **크레딧 옵션**: 
  - Freeplay/Unlimited: 25,000원
  - 2인 플레이: +10,000원 추가
- **예약 비중**: 25% (375건)
- **특징**: 2인 플레이 가능

## 🕐 실제 시간대 설정

### 조기 시간대 (3개) - 75% 분포
1. **07:00-12:00** (또는 07:00-12:30)
2. **08:00-12:00**
3. **09:00-13:00** (청소년 시간)

### 밤샘 시간대 (1개) - 25% 분포
1. **00:00-05:00** (또는 00:00-04:00)

## 📈 예약 분포 전략

### 월별 분포
- **2023년**: 월평균 40건 (성장 초기단계)
- **2024년**: 월평균 50건 (안정기)
- **2025년 1-6월**: 월평균 60건 (성장 지속)

### 시간대별 분포
- **조기 3개 시간대**: 75% (1,125건)
- **밤샘 1개 시간대**: 25% (375건)

### 요일별 패턴
- **평일**: 40% (월-금)
- **주말**: 60% (토-일)

### 계절성 반영
- **방학 시즌** (7-8월, 12월-2월): +20% 증가
- **시험 기간** (4월, 10월): -15% 감소
- **신기종 출시 효과**: 해당 기종 +30% 증가

## 👥 고객 분포 (300명)

### 고객 등급별 분포
- **단골 고객** (월 4회 이상): 20% (60명)
- **일반 고객** (월 2-3회): 40% (120명)
- **가끔 고객** (월 1회): 30% (90명)
- **신규 고객** (첫 방문): 10% (30명)

### 연령대별 분포
- **10대**: 30% (90명)
- **20대**: 50% (150명)
- **30대**: 15% (45명)
- **40대 이상**: 5% (15명)

### 재방문 패턴
- **단골 고객**: 평균 7일 주기
- **일반 고객**: 평균 14일 주기
- **가끔 고객**: 평균 30일 주기

## 💰 결제 및 상태 분포

### 결제 방식
- **현금**: 40%
- **계좌이체**: 60%

### 예약 상태 분포
- **완료**: 85%
- **취소**: 10%
- **노쇼**: 5%

### 결제 상태 분포
- **결제 완료**: 85%
- **결제 대기**: 5%
- **결제 실패**: 3%
- **환불**: 7%

## 🔧 구현 방식

### 데이터 생성 순서
1. **고객 프로필 생성** (300명)
2. **월별 예약 분포 계산**
3. **시간대별 예약 배치**
4. **기종별 예약 분배**
5. **결제 정보 생성**
6. **상태 처리 및 완료**

### 스크립트 구조
```
scripts/
├── create-analytics-test-data.ts (메인 스크립트)
├── generators/
│   ├── customer-generator.ts
│   ├── reservation-generator.ts
│   ├── payment-generator.ts
│   └── time-slot-generator.ts
└── utils/
    ├── date-helpers.ts
    ├── random-helpers.ts
    └── db-helpers.ts
```

### 데이터 검증 방법
- **통계 탭별 데이터 노출 확인**
- **기종별/시간대별 분포 검증**
- **매출 추이 및 고객 행동 패턴 확인**
- **날짜 유효성 및 데이터 일관성 검사**

## 🎯 기대 효과

### 예약 통계 탭
- 일별/주별/월별 예약 추이 확인
- 시간대별 예약 분포 시각화
- 기종별 예약 현황 분석
- 요일별 패턴 확인

### 매출 분석 탭
- 월별 매출 추이 확인
- 기종별 매출 비중 분석
- 시간대별 매출 분포
- 결제 방식별 매출 현황

### 고객 분석 탭
- 고객 세그먼트별 분포
- 재방문율 및 고객 충성도
- 신규 고객 유입 현황
- 고객 활동 시간대 분석

## 📅 작업 일정

### Phase 1: 기본 데이터 생성
- [ ] 고객 프로필 생성
- [ ] 기본 예약 데이터 생성
- [ ] 결제 정보 생성

### Phase 2: 패턴 적용
- [ ] 시간대별 분포 적용
- [ ] 기종별 선호도 반영
- [ ] 계절성 패턴 적용

### Phase 3: 검증 및 최적화
- [ ] 통계 탭 데이터 노출 확인
- [ ] 분포 검증 및 조정
- [ ] 최종 데이터 검증

## 🚨 주의사항

1. **실제 DB 스키마 준수**
   - 모든 데이터는 실제 DB 스키마를 따라야 함
   - Foreign key 제약 조건 준수

2. **데이터 일관성 유지**
   - 예약 시간 충돌 방지
   - 결제 금액 정확성 확보
   - 고객 행동 패턴 일관성

3. **성능 고려사항**
   - 대용량 데이터 생성 시 배치 처리
   - 트랜잭션 단위 최적화
   - 인덱스 성능 고려

4. **백업 및 복구**
   - 데이터 생성 전 기존 데이터 백업
   - 롤백 방안 준비
   - 테스트 환경에서 먼저 검증

---

*작성일: 2025년 7월 15일*  
*최종 수정: 2025년 7월 15일*  
*작성자: Claude Code*