# 광주 게임플라자 기기관리 시스템 기획서

## 개요
오락실에서 보유한 리듬게임 기기들을 체계적으로 관리하는 시스템

## 최종 업데이트: 2025-06-27

## 주요 기능
1. **3단계 계층 구조**: 카테고리 > 기종 > 개별 기기
2. **드래그 앤 드롭 순서 관리**: 카테고리와 기종 모두 순서 변경 가능
3. **실시간 기기 상태 관리**: 사용가능/대여중/점검중/사용불가
4. **대여 가능 설정**: 기종별로 대여 가능 여부 토글
5. **보유 대수 관리**: 기종별 기기 추가/삭제

## 시스템 구조

### 1. 카테고리 관리
- 리듬게임, 격투게임, 레이싱게임 등 대분류
- 순서 변경 가능 (드래그 앤 드롭)
- 카테고리별 보유 기종 수 표시

### 2. 기종 관리
- 각 카테고리 내 세부 기종 관리
- 플레이 모드별 가격 설정
- 대여 가능 여부 설정
- 순서 변경 가능 (드래그 앤 드롭 / 모바일은 화살표 버튼)
- 보유 대수 및 가동 대수 표시

### 3. 개별 기기 관리
- 각 기종별 번호 부여 (#1, #2, #3...)
- 실시간 상태 변경
- 점검 이력 관리
- 메모 기능

## UI/UX 특징

### 순서 관리 (2025.06.27 추가)
1. **데스크톱**
   - 드래그 핸들(≡)을 통한 직관적인 드래그 앤 드롭
   - 드래그 중인 항목은 반투명 처리
   - 드롭 위치는 파란색 테두리로 표시

2. **모바일**
   - 각 카드에 위/아래 화살표 버튼
   - 첫 번째/마지막 항목은 해당 방향 버튼 비활성화
   - 터치 친화적인 UI

### 상태 표시
- 색상으로 구분된 명확한 상태 표시
  - 초록색: 사용 가능
  - 파란색: 대여중
  - 노란색: 점검중
  - 빨간색: 사용불가

### 빠른 액션
- 원클릭 대여 가능 토글
- 드롭다운으로 즉시 상태 변경
- 일괄 상태 변경 기능

## 데이터베이스 구조

### categories 테이블
```sql
CREATE TABLE categories (
  id UUID PRIMARY KEY,
  name TEXT NOT NULL,
  display_order INTEGER DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT NOW()
);
```

### device_types 테이블
```sql
CREATE TABLE device_types (
  id UUID PRIMARY KEY,
  category_id UUID REFERENCES categories(id),
  name TEXT NOT NULL,
  description TEXT,
  is_rentable BOOLEAN DEFAULT false,
  display_order INTEGER DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT NOW()
);
```

### devices 테이블
```sql
CREATE TABLE devices (
  id UUID PRIMARY KEY,
  device_type_id UUID REFERENCES device_types(id),
  device_number INTEGER NOT NULL,
  status TEXT CHECK (status IN ('available', 'in_use', 'maintenance', 'unavailable')),
  notes TEXT,
  last_maintenance DATE,
  created_at TIMESTAMPTZ DEFAULT NOW()
);
```

## 워크플로우

### 새 기기 추가
1. 카테고리 선택 (없으면 생성)
2. 기종 선택 (없으면 생성)
3. 보유 대수 설정
4. 자동으로 개별 기기 생성

### 기기 상태 변경
1. 기종 선택 > 기기 상태 보기
2. 각 기기별 상태 드롭다운으로 변경
3. 변경사항 즉시 반영 (낙관적 업데이트)

### 순서 변경
1. 카테고리/기종 목록에서 드래그 앤 드롭
2. 또는 모바일에서 화살표 버튼 클릭
3. 변경된 순서는 모든 화면에 즉시 반영

## 향후 개선사항
1. QR코드 기반 기기 관리
2. 정기 점검 알림 시스템
3. 기기별 수익 통계
4. 고장 이력 추적
5. 부품 교체 이력 관리