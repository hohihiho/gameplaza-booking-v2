# ✅ 회귀 테스트 체크리스트 v2.0

버그 수정이나 새로운 기능 추가 후 기존 기능이 정상 동작하는지 확인하는 체크리스트입니다.

## 📊 테스트 현황
- **총 체크 항목**: 219개
- **크리티컬 항목**: 45개 (데이터 무결성, 보안, 결제)
- **핵심 기능**: 134개
- **일반 기능**: 40개

## 🚨 크리티컬 체크리스트 (반드시 0 버그)
모든 항목이 통과해야 배포 가능

### 💰 결제 정확성
- [ ] 금액 계산이 100% 정확한가
- [ ] 시간/금액 조정 시 트랜잭션 보장
- [ ] 환불 처리 시 데이터 일관성
- [ ] 결제 상태 변경 시 롤백 동작
- [ ] 동시 결제 처리 시 충돌 방지

### 🔒 데이터 무결성
- [ ] 예약 중복이 절대 발생하지 않는가
- [ ] 트랜잭션 실패 시 완전 롤백
- [ ] 참조 무결성 위반 없음
- [ ] 동시성 제어 정상 동작
- [ ] 데이터 손실 없음

### 🛡️ 보안 취약점
- [ ] SQL Injection 방어 완벽
- [ ] XSS 공격 차단 완벽
- [ ] CSRF 토큰 검증
- [ ] 권한 우회 불가능
- [ ] 세션 하이재킹 방지

### 🏥 시스템 가용성
- [ ] 서버 다운 시 복구 가능
- [ ] DB 연결 실패 시 처리
- [ ] 무한 루프 발생 없음
- [ ] 메모리 누수 없음
- [ ] 크래시 유발 입력 차단

## 🎯 테스트 전 준비사항

- [ ] 최신 코드 pull
- [ ] 데이터베이스 마이그레이션 실행
- [ ] 환경 변수 확인
- [ ] 개발 서버 정상 실행 (포트 3000)
- [ ] 테스트 데이터 시드 실행

## 📱 사용자 인증 및 회원가입

### 회원가입 프로세스
- [ ] 회원가입 페이지 접속 가능
- [ ] 이메일 중복 체크 동작
- [ ] 닉네임 비속어 필터링 동작
- [ ] 비밀번호 유효성 검증
- [ ] 회원가입 완료 후 환영 페이지 표시

### 로그인/로그아웃
- [ ] 이메일/비밀번호 로그인 정상 동작
- [ ] 잘못된 인증 정보 시 에러 메시지
- [ ] 로그인 상태 유지
- [ ] 로그아웃 정상 동작

## 🎮 예약 시스템

### 예약 생성 핵심 기능
- [ ] 기기 목록 정상 표시
- [ ] 예약 가능 시간대 표시
- [ ] 24시간 제한 검증 (정확히 24시간)
- [ ] KST 시간대 정확히 표시
- [ ] 24~29시 표시 정상 동작 (00~05시)
- [ ] 예약 생성 성공
- [ ] 예약 충돌 방지 동작
- [ ] 06시 영업일 리셋 정상 동작
- [ ] 크레딧 타입별 가격 정확히 적용
- [ ] 청소년 시간 제한 (09~22시)
- [ ] 2인 플레이 옵션 및 추가금

### 예약 목록
- [ ] 내 예약 목록 조회
- [ ] 예약 상태별 필터링
- [ ] 전체 탭 개수 정확히 표시
- [ ] 예약 상세 정보 표시
- [ ] 예약 취소 기능

### 예약 상태 표시
- [ ] 대기 중 (회색)
- [ ] 승인됨 (노란색)
- [ ] 체크인 (초록색)
- [ ] 사용 중 (파란색)
- [ ] 완료 (회색)
- [ ] 취소/노쇼 (빨간색)

## 👨‍💼 관리자 기능

### 대시보드
- [ ] 실시간 데이터 표시
- [ ] 오늘 매출 정확히 계산
- [ ] 예약 현황 실시간 업데이트
- [ ] 기기 상태 정확히 표시
- [ ] 30초마다 자동 새로고침

### 체크인 프로세스
- [ ] 승인된 예약 목록 표시
- [ ] 체크인 처리 정상 동작
- [ ] 결제완료 처리 정상 동작
- [ ] 결제 수단 변경 가능
- [ ] 금액 수동 조정 가능
- [ ] 시간 조정 (종료 시간만)
- [ ] 노쇼 처리 (사유 불필요)
- [ ] 체크인 취소 시 전체 상태 롤백
- [ ] 토스트 알림 정상 표시

### 예약 관리
- [ ] 예약 목록 조회
- [ ] 예약 승인/거절
- [ ] 필터 탭 상단 고정
- [ ] 예약 수정 기능

### 기기 관리
- [ ] 기종 목록 표시
- [ ] 모델명/버전명 저장
- [ ] 모드별 가격 설정
- [ ] 대여 기기 상태 변경
- [ ] 기기 번호 관리

### 운영일정 관리
- [ ] 일정 추가 (30분 단위)
- [ ] 일정 수정 모달 표시
- [ ] 설명만 표시 (제목 없음)
- [ ] "조기 영업" 표시
- [ ] 자동 영업일정 생성
- [ ] 수동 수정 가능
- [ ] 사용자 탈퇴 시에도 일정 보존

### 통계 분석
- [ ] 예약 통계 차트 표시
- [ ] 매출 분석 차트 표시
- [ ] 고객 분석 차트 표시
- [ ] 기종 분석 차트 표시
- [ ] 날짜 범위 필터링

### 금지어 관리
- [ ] 금지어 목록 표시
- [ ] 금지어 추가/수정/삭제
- [ ] 카테고리별 분류
- [ ] 실시간 적용 확인

### 계좌번호 관리
- [ ] 계좌 정보 추가
- [ ] 계좌 정보 수정
- [ ] 계좌 정보 삭제
- [ ] 주 계좌 설정

## 📅 일정 표시

### 영업 일정
- [ ] 정규 영업시간 표시
- [ ] 조기 영업 표시
- [ ] 밤샘 제한 표시
- [ ] 휴무일 표시
- [ ] 예약 확정 일정 표시

## 🌐 실시간 동기화

- [ ] 예약 상태 실시간 업데이트
- [ ] 기기 상태 실시간 동기화
- [ ] 다중 사용자 충돌 방지

## 📱 모바일 최적화 & PWA

### 기본 모바일 기능
- [ ] 모바일 레이아웃 정상 표시
- [ ] 터치 인터페이스 동작
- [ ] 3G 환경 성능 확인 (3초 이내)
- [ ] 스크롤 중 의도치 않은 선택 방지
- [ ] 화면 회전 시 상태 유지
- [ ] 키보드 팝업 시 레이아웃 조정

### PWA 기능
- [ ] PWA 설치 프롬프트 표시
- [ ] 오프라인 페이지 표시
- [ ] Service Worker 정상 등록
- [ ] 푸시 알림 권한 요청
- [ ] 푸시 알림 수신 (예약 승인/거절)
- [ ] 홈 화면 추가 후 실행
- [ ] 오프라인 → 온라인 전환 시 동기화
- [ ] 캐시된 데이터 정확성

## 🔐 보안 및 권한

- [ ] 일반 사용자 권한 제한
- [ ] 관리자 전용 페이지 접근 제한
- [ ] 슈퍼관리자 기능 제한
- [ ] RLS 정책 정상 동작

## 🎨 UI/UX

- [ ] 다크 모드 정상 동작
- [ ] 토스트 알림 표시
- [ ] 로딩 상태 표시
- [ ] 에러 메시지 표시
- [ ] 반응형 디자인

## ⚡ 성능

- [ ] 페이지 로딩 속도 (3초 이내)
- [ ] 이미지 최적화 확인
- [ ] 번들 크기 확인
- [ ] 메모리 누수 확인

## 🆕 신규 기능 테스트

### AI 모더레이션
- [ ] 닉네임 비속어 필터링
- [ ] 스팸 메시지 차단
- [ ] 모더레이션 API 장애 처리
- [ ] 대체 닉네임 제안

### 자동 스케줄 생성
- [ ] 예약 2대 이상 시 조기영업 제안
- [ ] 밤샘영업 자동 생성 (금/토)
- [ ] 특별영업 확정 프로세스
- [ ] 스케줄 삭제 시 연관 데이터 처리

### 실시간 기능
- [ ] WebSocket 연결 상태 표시
- [ ] 예약 현황 실시간 업데이트
- [ ] 기기 상태 실시간 동기화
- [ ] 연결 끊김 시 자동 재연결
- [ ] 다중 탭 동기화

## 🐛 주요 버그 재발 방지

### BUG-001: 예약 API 500 에러
- [ ] GET /api/reservations 정상 동작
- [ ] undefined 에러 없음

### BUG-002: 필터링 시 전체 개수
- [ ] 필터 적용해도 전체 개수 유지

### BUG-003: 관리자 상단 고정
- [ ] 스크롤 시 필터 탭 고정됨

### BUG-004: 모델명 저장
- [ ] 기종 모델명/버전명 정상 저장

### BUG-005: 예약 생성 오류
- [ ] 예약 최종 처리 성공

### BUG-006: 운영일정 수정
- [ ] 일정 클릭 시 수정 모달 표시

### BUG-007: payment_status 오류
- [ ] 체크인 시 제약 조건 오류 없음

### BUG-008: 마이페이지 상태
- [ ] 승인된 예약 정확히 표시

### BUG-009: 밤샘 시간 표시
- [ ] 24시간+ 형식 정확히 표시

### BUG-010: 모바일 레이아웃
- [ ] 체크인 페이지 2열 그리드

## 📝 테스트 결과 기록

```markdown
테스트 일자: YYYY-MM-DD
테스트 환경: [개발/스테이징/프로덕션]
테스트 담당자: [이름]

### 발견된 이슈
1. [이슈 설명]
   - 재현 방법:
   - 심각도:
   - 조치 필요:

### 통과율
- 전체 항목: XX개
- 통과: XX개
- 실패: XX개
- 통과율: XX%

### 다음 조치사항
- [ ] [조치 내용]
```

---

⚠️ **중요**: 모든 배포 전 이 체크리스트를 완료해야 합니다.

## 🔄 지속적 테스트

### 성능 모니터링
- [ ] 페이지 로딩 시간 측정
- [ ] API 응답 시간 측정
- [ ] 메모리 사용량 추적
- [ ] 에러율 모니터링

### 자동화 테스트
- [ ] 단위 테스트 통과율 80% 이상
- [ ] 통합 테스트 정상 실행
- [ ] E2E 핵심 시나리오 통과
- [ ] 테스트 커버리지 리포트 생성

마지막 업데이트: 2025-07-25