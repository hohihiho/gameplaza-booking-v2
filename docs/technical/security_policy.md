# 🔒 보안 정책 가이드

> 💡 **초보자를 위한 설명**: 보안은 우리 서비스와 사용자 정보를 안전하게 지키는 방법입니다.
> 마치 집의 현관문 잠금장치, CCTV, 경비 시스템처럼 여러 겹의 보호막을 만드는 것입니다.

## 🏠 보안의 기본 개념

우리 서비스는 **"다층 방어"** 전략을 사용합니다:
```
🏠 집 = GamePlaza 서비스
├── 🚪 현관문 = 로그인 (인증)
├── 🔑 열쇠 = 비밀번호/토큰
├── 👮 경비원 = 권한 확인
├── 📹 CCTV = 활동 모니터링
└── 🚨 경보기 = 이상 감지 시스템
```

## 🔐 1. 인증과 인가

### 인증 (Authentication) - "당신이 누구인지 확인"
> 💭 생각해보세요: 은행에 가면 신분증을 확인하죠? 그것과 같습니다.

#### 구글 OAuth 로그인
- **장점**: 우리가 비밀번호를 직접 관리하지 않아 더 안전
- **과정**: 
  1. 구글 로그인 버튼 클릭
  2. 구글에서 본인 확인
  3. 우리 서비스로 안전하게 정보 전달

#### SMS 인증
- **목적**: 실제 사용자 확인 (가짜 계정 방지)
- **과정**:
  1. 전화번호 입력
  2. 6자리 인증번호 발송
  3. 3분 내 입력으로 확인

### 인가 (Authorization) - "무엇을 할 수 있는지 확인"
> 💭 생각해보세요: 회사에서 직급별로 들어갈 수 있는 사무실이 다르죠?

#### 권한 레벨
| 권한 | 할 수 있는 일 | 비유 |
|------|--------------|------|
| **일반 사용자** | 예약 신청, 본인 정보 조회 | 고객 |
| **스태프** | 체크인 처리, 현장 관리 | 매장 직원 |
| **관리자** | 모든 기능, 시스템 설정 | 매장 관리자 |

## 🛡️ 2. 데이터 보호

### 개인정보 암호화
> 💡 암호화 = 중요한 정보를 특별한 방법으로 뒤섞어서 남이 못 읽게 만드는 것

#### 암호화되는 정보
- ✅ 전화번호
- ✅ 결제 정보
- ✅ 개인 메모
- ❌ 이름, 이메일 (서비스 운영에 필요)

### 데이터 전송 보안 (HTTPS)
```
일반 HTTP (위험):  내 정보 → 📡 → 서버
                        ↑
                    해커가 훔쳐볼 수 있음

안전한 HTTPS:     내 정보 → 🔐📡🔐 → 서버
                        ↑
                    암호화되어 있어 못 읽음
```

## 🚫 3. 공격 방어 시스템

### SQL Injection 방지
> 💡 **쉬운 설명**: 해커가 우리 데이터베이스를 조작하려는 시도를 막습니다.

**예시 상황**:
```
❌ 위험한 경우: 
해커가 로그인 창에 "admin' OR '1'='1" 같은 이상한 문자 입력
→ 시스템이 속아서 관리자로 로그인될 수 있음

✅ 우리의 방어:
모든 입력값을 검사하고 정제해서 안전하게 처리
→ 이상한 문자는 그냥 일반 텍스트로 처리됨
```

### XSS (Cross-Site Scripting) 방지
> 💡 **쉬운 설명**: 해커가 우리 사이트에 악성 코드를 심는 것을 막습니다.

**예시 상황**:
```
❌ 위험한 경우:
게시글에 <script>해킹코드</script> 입력
→ 다른 사용자가 볼 때 실행될 수 있음

✅ 우리의 방어:
모든 사용자 입력을 검사하고 위험한 코드는 제거
→ 안전한 텍스트만 표시됨
```

### CSRF (Cross-Site Request Forgery) 방지
> 💡 **쉬운 설명**: 가짜 요청으로 사용자를 속이는 것을 막습니다.

**보안 토큰 사용**:
```
정상 요청: 예약 신청 + 🎫 보안 토큰
가짜 요청: 예약 신청 + ❌ 토큰 없음 → 거부됨
```

## 🚦 4. API 보안

### Rate Limiting (속도 제한)
> 💡 **쉬운 설명**: 한 사람이 너무 많은 요청을 보내지 못하게 제한합니다.

| 사용자 유형 | 제한 | 이유 |
|------------|------|------|
| 일반 사용자 | 분당 60회 | 정상적인 사용 가능 |
| 비로그인 | 분당 20회 | 남용 방지 |
| 차단된 IP | 0회 | 공격 차단 |

### API 사용 예시
```
✅ 정상: 예약 조회 → 1초 대기 → 예약 신청
❌ 비정상: 1초에 100번 예약 조회 → 자동 차단
```

## 📊 5. 모니터링과 로그

### 실시간 감시 항목
1. **로그인 시도**
   - 5회 실패 시 → 10분간 차단
   - 다른 지역에서 로그인 → 알림 발송

2. **비정상 패턴**
   - 새벽 3시에 대량 예약 시도
   - 1분 안에 여러 기기 동시 예약

3. **시스템 상태**
   - 서버 과부하 감지
   - 데이터베이스 연결 오류

### 로그 기록 항목
```
📝 기록되는 내용:
- 언제: 2024-01-20 14:30:25
- 누가: user_123456
- 무엇을: 예약 신청
- 어디서: IP 123.456.789.0
- 결과: 성공/실패
```

## 🔄 6. 보안 업데이트 정책

### 정기 점검
| 주기 | 점검 내용 | 담당 |
|------|----------|------|
| 매일 | 이상 로그인 확인 | 자동 시스템 |
| 매주 | 보안 패치 적용 | 개발팀 |
| 매월 | 전체 보안 점검 | 보안 전문가 |

### 비상 대응 절차
```
🚨 보안 사고 발생 시:
1. 즉시 차단 → 피해 확산 방지
2. 원인 파악 → 어떻게 발생했나?
3. 복구 작업 → 정상화
4. 재발 방지 → 같은 문제 방지
5. 사용자 통보 → 투명한 소통
```

## 👤 7. 개인정보 보호

### 수집하는 정보와 이유
| 정보 | 수집 이유 | 보관 기간 |
|------|----------|----------|
| 이메일 | 로그인용 | 탈퇴 후 30일* |
| 닉네임 | 서비스 이용 | 탈퇴 즉시 삭제 |
| 전화번호 | 예약 확인 | 탈퇴 후 1년 |
| 예약 기록 | 서비스 제공 | 3년 |

> *️⃣ **블랙리스트 관련 특별 보관**:
> - 서비스 부정이용 방지를 위해 블랙리스트 등록 시 이메일 해시값만 별도 보관 (3년)
> - 해시값은 이메일 주소를 복원할 수 없는 형태로 변환한 값입니다
> - 개인정보보호법 제16조에 근거하여 서비스 부정이용 방지 목적으로만 사용

### 정보 보호 원칙
1. **최소 수집**: 꼭 필요한 정보만
2. **목적 외 사용 금지**: 동의받은 용도로만
3. **안전한 보관**: 암호화하여 저장
4. **투명한 관리**: 언제든 조회/삭제 가능

## 🎯 8. 사용자를 위한 보안 팁

### 안전한 서비스 이용법
1. ✅ **공용 와이파이 주의**
   - 카페, 지하철에서는 중요한 작업 자제

2. ✅ **피싱 사이트 구별**
   - 주소창에 🔒 자물쇠 표시 확인
   - gameplaza.com 주소 정확히 확인

3. ✅ **계정 보호**
   - 구글 2단계 인증 사용 권장
   - 정기적으로 로그인 기기 확인

4. ✅ **의심스러운 활동 신고**
   - 이상한 알림이나 요청 시 즉시 신고

## 📞 9. 보안 문제 신고

### 신고 방법
- 📧 이메일: security@gameplaza.com
- 📱 긴급 연락: 010-XXXX-XXXX
- 💬 앱 내 신고: 설정 → 보안 → 신고하기

### 신고 시 필요 정보
1. 발생 시간
2. 어떤 문제인지
3. 스크린샷 (가능한 경우)
4. 연락 가능한 번호

---

> 📌 **중요**: 이 보안 정책은 사용자와 서비스를 보호하기 위해 지속적으로 개선됩니다.
> 궁금한 점이 있으시면 언제든 문의해주세요!