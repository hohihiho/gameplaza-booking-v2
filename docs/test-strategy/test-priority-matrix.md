# 🎯 게임플라자 예약 시스템 - 테스트 우선순위 매트릭스

## 📊 위험도 평가 기준

### 위험도 레벨
- **🔴 Critical (위험도 10)**: 서비스 중단, 매출 손실, 데이터 손실
- **🟠 High (위험도 7-9)**: 주요 기능 장애, 사용자 경험 심각한 저하
- **🟡 Medium (위험도 4-6)**: 부분적 기능 장애, 일부 사용자 영향
- **🟢 Low (위험도 1-3)**: 미미한 영향, UI/UX 개선 사항

### 평가 요소
1. **비즈니스 영향도**: 매출/운영에 미치는 영향
2. **사용자 영향 범위**: 영향받는 사용자 수
3. **복구 난이도**: 문제 발생 시 복구 시간
4. **발생 빈도**: 기능 사용 빈도

---

## 🔴 Critical Priority (즉시 테스트 필수)

### 1. 예약 시스템 핵심 기능
| 기능 | 위험도 | 테스트 범위 | 이유 |
|------|--------|------------|------|
| **예약 생성** | 10 | Unit + Integration + E2E | 매출 직결, 1인 1대 원칙 검증 |
| **24시간 제한 검증** | 10 | Unit + Integration | 정책 위반 시 운영 차질 |
| **예약 충돌 방지** | 10 | Integration + E2E | 이중 예약 시 고객 불만 |
| **실시간 동기화** | 9 | Integration + E2E | 동시 예약 시 충돌 |

#### 상세 테스트 케이스
```typescript
// 예약 생성 테스트
describe('ReservationCreation', () => {
  // 1인 1대 원칙
  test('한 사용자가 동시에 여러 예약 불가')
  test('기존 예약 있을 시 신규 예약 차단')
  
  // 24시간 제한
  test('24시간 이내 체크인 없을 시 자동 취소')
  test('예약 시간 24시간 이후 불가')
  
  // 충돌 방지
  test('동일 기기/시간 동시 예약 방지')
  test('낙관적 잠금으로 충돌 해결')
})
```

### 2. 결제 및 금액 처리
| 기능 | 위험도 | 테스트 범위 | 이유 |
|------|--------|------------|------|
| **요금 계산** | 10 | Unit + Integration | 매출 정확성 |
| **시간 조정 시 금액 재계산** | 10 | Unit + Integration | 금액 오류 방지 |
| **무료 시간 처리** | 9 | Unit + Integration | 정책 준수 |

### 3. KST 시간대 처리
| 기능 | 위험도 | 테스트 범위 | 이유 |
|------|--------|------------|------|
| **24~29시 표시** | 10 | Unit + Integration | 밤샘 시간대 연속성 |
| **영업일 기준 처리** | 10 | Unit + Integration | 매출 집계 정확성 |
| **Date 객체 생성** | 9 | Unit | UTC 변환 오류 방지 |

---

## 🟠 High Priority (48시간 내 테스트)

### 4. 사용자 인증 및 권한
| 기능 | 위험도 | 테스트 범위 | 이유 |
|------|--------|------------|------|
| **구글 OAuth** | 8 | Integration + E2E | 로그인 불가 시 서비스 이용 불가 |
| **권한 검증** | 8 | Unit + Integration | 무단 접근 방지 |
| **세션 관리** | 7 | Integration | 보안 이슈 |

### 5. 관리자 기능
| 기능 | 위험도 | 테스트 범위 | 이유 |
|------|--------|------------|------|
| **체크인 처리** | 9 | Integration + E2E | 운영 핵심 기능 |
| **예약 조정** | 8 | Integration | 고객 응대 필수 |
| **기기 상태 관리** | 7 | Integration | 예약 가능 여부 결정 |

### 6. 모바일 최적화
| 기능 | 위험도 | 테스트 범위 | 이유 |
|------|--------|------------|------|
| **3G 환경 성능** | 8 | Performance + E2E | 99% 모바일 사용자 |
| **터치 인터페이스** | 7 | E2E | 주요 인터랙션 |
| **PWA 기능** | 7 | Integration | 오프라인 지원 |

---

## 🟡 Medium Priority (1주일 내 테스트)

### 7. 알림 시스템
| 기능 | 위험도 | 테스트 범위 | 이유 |
|------|--------|------------|------|
| **예약 알림** | 6 | Integration | 사용자 편의 |
| **상태 변경 알림** | 5 | Integration | 정보 전달 |
| **푸시 알림** | 5 | Integration | PWA 기능 |

### 8. 데이터 조회 및 표시
| 기능 | 위험도 | 테스트 범위 | 이유 |
|------|--------|------------|------|
| **예약 목록** | 6 | Unit + Integration | 정보 정확성 |
| **기기 정보** | 5 | Unit | 예약 결정 정보 |
| **통계 대시보드** | 4 | Unit | 운영 참고 |

### 9. 검색 및 필터링
| 기능 | 위험도 | 테스트 범위 | 이유 |
|------|--------|------------|------|
| **기기 검색** | 5 | Unit | 사용자 편의 |
| **날짜별 필터** | 5 | Unit | 예약 조회 |
| **상태별 필터** | 4 | Unit | 관리자 기능 |

---

## 🟢 Low Priority (2주일 내 테스트)

### 10. UI/UX 일관성
| 기능 | 위험도 | 테스트 범위 | 이유 |
|------|--------|------------|------|
| **디자인 일관성** | 3 | Visual | 브랜드 이미지 |
| **애니메이션** | 2 | Manual | 사용자 경험 |
| **다크 모드** | 2 | Visual | 추가 기능 |

### 11. 에러 처리 및 로깅
| 기능 | 위험도 | 테스트 범위 | 이유 |
|------|--------|------------|------|
| **에러 메시지** | 3 | Unit | 사용자 가이드 |
| **로깅 시스템** | 3 | Integration | 디버깅 지원 |
| **에러 복구** | 3 | Integration | 안정성 |

### 12. 접근성
| 기능 | 위험도 | 테스트 범위 | 이유 |
|------|--------|------------|------|
| **스크린 리더** | 3 | Accessibility | WCAG 준수 |
| **키보드 네비게이션** | 2 | Manual | 접근성 |
| **색상 대비** | 2 | Visual | 가독성 |

---

## 📈 테스트 실행 계획

### Phase 1 (Day 1-2): Critical 테스트
```bash
# Critical 기능 테스트 작성 및 실행
- 예약 시스템 핵심 로직
- 결제 및 금액 계산
- KST 시간대 처리
```

### Phase 2 (Day 3-4): High Priority 테스트
```bash
# High Priority 기능 테스트
- 인증 및 권한 시스템
- 관리자 핵심 기능
- 모바일 성능 테스트
```

### Phase 3 (Week 2): Medium Priority 테스트
```bash
# Medium Priority 기능 테스트
- 알림 시스템
- 데이터 조회 기능
- 검색 및 필터링
```

### Phase 4 (Week 3-4): Low Priority 및 통합
```bash
# Low Priority 및 전체 통합 테스트
- UI/UX 테스트
- 접근성 테스트
- 전체 회귀 테스트
```

---

## 🚨 테스트 실패 시 대응

### Critical 테스트 실패
1. **즉시 개발 중단**
2. **문제 해결 최우선**
3. **핫픽스 배포 준비**
4. **관련 팀 긴급 알림**

### High Priority 테스트 실패
1. **24시간 내 수정**
2. **영향 범위 분석**
3. **임시 대응책 마련**

### Medium/Low Priority 테스트 실패
1. **다음 스프린트 반영**
2. **백로그 등록**
3. **우선순위 재조정**

---

## 📊 성공 지표

### 테스트 커버리지 목표
- Critical: 95% 이상
- High: 90% 이상
- Medium: 80% 이상
- Low: 70% 이상
- 전체 평균: 80% 이상

### 품질 지표
- 배포 후 Critical 버그: 0건
- High Priority 버그: 2건 이하
- 응답 시간: 200ms 이하
- 모바일 성능 점수: 90점 이상